'use client';

import React from 'react';
import ContactForm from './contactForm';
import { useQuery } from '@tanstack/react-query';
import { getBasicInformation } from '@/api/home';
import { queryKeys } from '@/utils';
import { BASICINFO } from '@/constants/querykeys';
import Link from 'next/link';
import { translate } from '@/utils/commonRule';
import { type Locale } from '@/i18n';
import { isEmpty } from 'lodash';
import { Space } from 'antd';
import style from './style.module.scss';

export default function ContactUs({
   params: { lang },
}: {
   params: { lang: Locale };
}) {
   const { data } = useQuery({
      queryFn: () => getBasicInformation(),
      queryKey: queryKeys(BASICINFO).lists(),
   });

   const contactInfo = [
      {
         icon: (
            <svg
               width='20'
               height='25'
               viewBox='0 0 18 25'
               fill='none'
               xmlns='http://www.w3.org/2000/svg'
            >
               <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M8.06384 0.551907C7.12428 0.658266 6.23047 0.923813 5.32165 1.36659C3.57204 2.21902 2.29456 3.49566 1.42798 5.25778C0.0126375 8.13572 0.339731 11.2467 2.47831 15.2485C3.37179 16.9204 4.31389 18.3705 6.5854 21.5703C7.20767 22.4468 7.89847 23.4282 8.12047 23.751C8.54304 24.3654 8.70129 24.5 9.00134 24.5C9.30139 24.5 9.45964 24.3654 9.88222 23.751C10.1043 23.4282 10.8023 22.4363 11.4334 21.5468C13.8402 18.1549 14.9071 16.4853 15.7767 14.75C16.846 12.6162 17.3419 10.9695 17.4213 9.28903C17.563 6.28992 16.0379 3.4027 13.4523 1.77488C11.911 0.804657 9.88798 0.34547 8.06384 0.551907ZM8.32165 1.93383C7.71476 2.02088 7.22065 2.12766 6.81842 2.25867C5.09122 2.82117 3.61447 4.07841 2.77123 5.70417C1.59833 7.96556 1.72072 10.3626 3.16892 13.4919C3.93204 15.141 5.17142 17.1474 7.14542 19.9297C7.60273 20.5742 8.20212 21.4223 8.47742 21.8145C8.75267 22.2066 8.98845 22.5277 9.00134 22.5281C9.01423 22.5285 9.14459 22.3553 9.29103 22.1433C9.43747 21.9313 10.0143 21.1144 10.5729 20.3281C12.6845 17.3555 13.7083 15.7418 14.558 14.0468C15.8498 11.4698 16.2682 9.44508 15.8957 7.57331C15.3432 4.79747 13.151 2.60475 10.3655 2.04178C9.93233 1.95422 8.65119 1.88653 8.32165 1.93383ZM8.23887 4.78974C6.16311 5.18334 4.67961 7.06275 4.79834 9.14841C4.90597 11.0389 6.19404 12.5845 8.04842 13.0485C8.53189 13.1694 9.56183 13.1558 10.056 13.0219C11.574 12.6108 12.7295 11.4267 13.1119 9.89039C13.2213 9.45117 13.2213 8.42377 13.1119 7.98455C12.7291 6.44695 11.5573 5.24766 10.056 4.857C9.55943 4.72781 8.72783 4.69702 8.23887 4.78974ZM8.30768 6.21975C7.79459 6.35419 7.43131 6.56686 7.031 6.96713C6.62497 7.37316 6.41689 7.73278 6.28142 8.26228C6.11229 8.92364 6.20009 9.64275 6.52597 10.2647C6.72519 10.6449 7.29387 11.2136 7.67412 11.4128C8.29606 11.7387 9.01517 11.8265 9.67653 11.6574C10.206 11.5219 10.5657 11.3138 10.9717 10.9078C11.3777 10.5018 11.5858 10.1422 11.7213 9.61266C11.8904 8.9513 11.8026 8.23219 11.4767 7.61025C11.2775 7.23 10.7088 6.66131 10.3286 6.46209C9.70836 6.13716 8.96379 6.04786 8.30768 6.21975Z'
                  fill='#0C62BB'
               />
            </svg>
         ),
         title: (
            <div className='flex flex-wrap items-center gap-x-[6px]'>
               <label className=' text-[18px] font-medium leading-[30px] text-grey50'>
                  {translate(lang, 'Emergency Hotline :', 'हटलाइन :')}
               </label>
               <p className='text-[18px] font-medium leading-[30px] text-grey50'>
                  {translate(lang, 'Teku, Kathmandu', 'टेकु, काठमाडौं')}
               </p>
            </div>
         ),
         label: translate(lang, 'Location :', 'स्थान :'),
      },

      {
         icon: (
            <svg
               width='20'
               height='21'
               viewBox='0 0 20 21'
               fill='none'
               xmlns='http://www.w3.org/2000/svg'
            >
               <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M4.07488 0.532959C3.33248 0.657884 2.45929 1.17965 1.65442 1.97929C1.0766 2.55332 0.723408 3.0157 0.429096 3.5834C0.102331 4.21362 0.00160406 4.56739 7.72978e-05 5.08971C-0.00109713 5.49676 0.00892466 5.55185 0.185324 6.10695C1.65712 10.7388 4.51944 14.6334 8.50067 17.4213C10.2743 18.6632 12.3658 19.6825 14.4779 20.3341C14.9838 20.4902 15.0575 20.503 15.437 20.4996C15.7706 20.4966 15.9107 20.4758 16.1808 20.389C17.7538 19.8837 19.4406 18.2252 19.9048 16.7274C20.0248 16.3404 20.0324 15.7592 19.9219 15.4223C19.6274 14.5247 18.3581 13.4349 16.9833 12.8994C16.3325 12.646 15.9336 12.5674 15.3 12.5678C14.812 12.5682 14.7172 12.5797 14.4356 12.6726C13.9898 12.8197 13.6933 13.0269 13.1085 13.6006L12.5988 14.1005L12.0703 13.769C9.89124 12.4019 8.09561 10.6072 6.73394 8.43527L6.40306 7.90748L6.93763 7.35656C7.51775 6.75865 7.69533 6.48302 7.83097 5.97002C7.92368 5.61934 7.92281 4.81282 7.82925 4.3659C7.60858 3.31195 7.03945 2.19201 6.3492 1.45329C5.63867 0.692901 4.90019 0.394066 4.07488 0.532959ZM12.9703 0.619699C12.8991 0.668135 12.804 0.757418 12.759 0.81814C12.6799 0.924676 12.6767 0.978356 12.6654 2.35379L12.6538 3.77903H11.2521C9.85902 3.77903 9.84962 3.77957 9.71836 3.868C9.6457 3.9169 9.54619 4.01636 9.49725 4.08897C9.40851 4.22055 9.40823 4.22575 9.40823 5.7157C9.40823 7.20139 9.40878 7.21121 9.49632 7.33977C9.54478 7.4109 9.63412 7.50594 9.69487 7.55097C9.80151 7.62996 9.85487 7.63321 11.2296 7.64397L12.6538 7.65516L12.6655 9.07516L12.6771 10.4952L12.7868 10.6388C12.9893 10.9042 12.9584 10.8997 14.6227 10.8996C16.0398 10.8995 16.1289 10.8953 16.2472 10.8232C16.5156 10.6596 16.5114 10.6847 16.5331 9.1018L16.5527 7.67194L17.9885 7.65238C19.3615 7.63368 19.4292 7.6293 19.5325 7.55214C19.5919 7.50778 19.6768 7.42288 19.7212 7.36341C19.7995 7.25855 19.8019 7.20968 19.8019 5.71954V4.18369L19.6927 4.04058C19.6326 3.96186 19.5445 3.8752 19.4969 3.848C19.4335 3.81173 19.0302 3.79339 17.9816 3.77903L16.5527 3.75946L16.5331 2.32961C16.5114 0.746698 16.5156 0.771777 16.2472 0.608196C16.1289 0.536128 16.0397 0.531942 14.6109 0.531824C13.108 0.531668 13.099 0.532137 12.9703 0.619699ZM4.08415 1.81602C3.57684 1.9857 3.05809 2.33606 2.51363 2.87689C1.75542 3.62988 1.22638 4.55147 1.22638 5.11917C1.22638 5.19163 1.31618 5.53154 1.42595 5.87455C2.01332 7.71005 2.92104 9.56469 4.00864 11.1514C6.56991 14.8882 10.3659 17.7176 14.6366 19.073C14.9822 19.1827 15.3257 19.272 15.3999 19.2715C15.6315 19.2699 15.8742 19.1971 16.2429 19.0187C17.4725 18.4237 18.7645 16.8902 18.7645 16.0257C18.7645 15.6574 18.2728 15.074 17.568 14.606C16.7385 14.0552 15.7983 13.7463 15.1384 13.8079C14.6795 13.8507 14.5256 13.9523 13.7378 14.7322C12.8087 15.652 12.8129 15.651 12 15.1843C10.0137 14.044 8.30122 12.5753 6.84438 10.7628C6.4163 10.2302 5.61322 9.04108 5.28109 8.44802C4.84374 7.66705 4.84252 7.6712 5.78492 6.71476C6.63717 5.84982 6.64973 5.82729 6.6457 5.16796C6.64363 4.82757 6.62088 4.6562 6.53691 4.34845C6.25634 3.31978 5.58868 2.27894 4.971 1.9073C4.69466 1.74102 4.39929 1.71065 4.08415 1.81602ZM13.9018 3.18844C13.8891 4.82871 13.9012 4.76724 13.5571 4.94299C13.3881 5.0293 13.358 5.03102 12.0228 5.03102H10.661V5.7143V6.39761L12.0832 6.40876L13.5054 6.41995L13.6485 6.52915C13.7273 6.5892 13.814 6.67724 13.8412 6.72477C13.8775 6.78819 13.8958 7.19126 13.9102 8.23925L13.9298 9.66731H14.6149H15.3L15.3195 8.23229C15.3382 6.8601 15.3426 6.79254 15.4198 6.68929C15.4642 6.62989 15.5492 6.54499 15.6086 6.50063C15.7124 6.42312 15.7726 6.41952 17.1427 6.40876L18.5688 6.39761V5.71613V5.03466L17.1427 5.02308C15.7729 5.01193 15.7123 5.00829 15.6086 4.93078C15.5492 4.88642 15.4642 4.80151 15.4198 4.74212C15.3426 4.63887 15.3382 4.5713 15.3195 3.19912L15.3 1.7641L14.6065 1.75342L13.913 1.74274L13.9018 3.18844Z'
                  fill='#0C62BB'
               />
            </svg>
         ),
         title: isEmpty(data?.emergencyHotlines) ? (
            '-'
         ) : (
            <Space split={','} wrap>
               <label className=' text-[18px] font-medium leading-[30px] text-grey50'>
                  {translate(lang, 'Emergency Hotline :', 'हटलाइन :')}
               </label>
               {data?.emergencyHotlines?.map((item) => (
                  <Link
                     key={item}
                     href={`tel:${item}`}
                     className=' text-[#505050]'
                  >
                     <p className='text-[18px] font-medium leading-[30px] text-grey50'>
                        {item}
                     </p>
                  </Link>
               ))}
            </Space>
         ),
         label: translate(lang, 'Emergency Hotline :', 'हटलाइन :'),
      },
      {
         icon: (
            <svg
               width='20'
               height='23'
               viewBox='0 0 22 23'
               fill='none'
               xmlns='http://www.w3.org/2000/svg'
            >
               <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M3.89051 0.832874C3.1415 1.00298 2.64068 1.29698 1.96887 1.96097C1.00779 2.9108 0.526105 3.85687 0.330637 5.17856C0.154012 6.37303 0.394199 8.00662 0.943855 9.34898C1.91918 11.731 3.60692 14.14 5.9344 16.4722C8.37528 18.918 10.8926 20.673 13.3262 21.6256C14.9356 22.2555 16.7706 22.4046 18.1234 22.0152C19.5165 21.6142 20.7334 20.595 21.3595 19.3047C21.9197 18.1503 21.8329 16.9605 21.1316 16.1804C20.9258 15.9516 17.7269 13.6462 17.0412 13.2327C16.5521 12.9377 16.1495 12.8125 15.6898 12.8125C14.9518 12.8125 14.4362 13.0817 13.5114 13.9495L12.9741 14.4537L12.5558 14.1739C11.4906 13.4614 9.35984 11.356 8.41226 10.0797C7.96596 9.47855 7.95945 9.56381 8.49537 8.99095C9.3619 8.0647 9.62759 7.60458 9.67212 6.95316C9.70212 6.51445 9.60771 6.12656 9.35262 5.64066C9.14815 5.25112 6.74417 1.83684 6.46339 1.53712C6.21617 1.27331 5.89821 1.0643 5.52621 0.921046C5.13467 0.770296 4.3519 0.728061 3.89051 0.832874ZM3.99837 2.36287C3.63682 2.48723 3.39696 2.64309 3.03603 2.98823C2.48792 3.5123 2.10204 4.16503 1.89748 4.91409C1.74837 5.46014 1.748 6.57506 1.89668 7.32009C2.26728 9.17723 3.47384 11.368 5.40495 13.6901C7.29495 15.9628 9.83487 18.1312 12.0531 19.3657C12.7075 19.73 13.8697 20.2702 14.3265 20.4225C15.7139 20.8851 17.4011 20.815 18.4707 20.2504C19.202 19.8644 19.9356 19.024 20.146 18.3315C20.2623 17.9486 20.2465 17.5424 20.106 17.3011C20.0448 17.196 19.4562 16.7497 18.2148 15.8672C16.4792 14.6333 15.8974 14.2657 15.6805 14.2657C15.4537 14.2657 15.1266 14.4976 14.5065 15.0982C13.7546 15.8265 13.5414 15.952 13.0551 15.9527C12.6803 15.9532 12.4617 15.8809 11.9899 15.5998C10.6927 14.8271 7.98664 12.1515 6.99026 10.6563C6.62215 10.1039 6.47904 9.70758 6.51237 9.33272C6.54842 8.9273 6.67732 8.72119 7.31342 8.05209C8.21046 7.10845 8.30543 6.90403 8.07448 6.41409C7.96381 6.17925 5.6119 2.8297 5.37968 2.57616C5.09262 2.26275 4.53832 2.17716 3.99837 2.36287Z'
                  fill='#0C62BB'
               />
            </svg>
         ),
         title: isEmpty(data?.generalInquiries) ? (
            '_'
         ) : (
            <Space split={','} wrap>
               <label className=' text-[18px] font-medium leading-[30px] text-grey50'>
                  {translate(lang, 'For Enquiries :', 'सोधपुछ :')}
               </label>
               {data?.generalInquiries?.map((item) => (
                  <Link
                     key={item}
                     href={`tel:${item}`}
                     className=' text-[#505050]'
                  >
                     <p className='text-[18px] font-medium leading-[30px] text-grey50'>
                        {item}
                     </p>
                  </Link>
               ))}
            </Space>
         ),
         label: translate(lang, 'For Enquiries :', 'सोधपुछ :'),
      },
      {
         icon: (
            <svg
               width='20'
               height='19'
               viewBox='0 0 22 19'
               fill='none'
               xmlns='http://www.w3.org/2000/svg'
            >
               <path
                  d='M1.60417 0.5H20.3958C21.2813 0.5 22 1.3064 22 2.3V16.7C22 17.1774 21.831 17.6352 21.5301 17.9728C21.2293 18.3104 20.8213 18.5 20.3958 18.5H1.60417C1.17872 18.5 0.770689 18.3104 0.469849 17.9728C0.16901 17.6352 0 17.1774 0 16.7L0 2.3C0 1.3064 0.718667 0.5 1.60417 0.5ZM1.375 5.03806V16.7C1.375 16.8419 1.47767 16.9571 1.60417 16.9571H20.3958C20.4566 16.9571 20.5149 16.9301 20.5579 16.8818C20.6009 16.8336 20.625 16.7682 20.625 16.7V5.03806L11.8983 11.6549C11.3557 12.0663 10.6443 12.0663 10.1017 11.6549L1.375 5.03806ZM1.375 2.3V3.17634L10.8717 10.3763C10.9096 10.4051 10.9543 10.4204 11 10.4204C11.0457 10.4204 11.0904 10.4051 11.1283 10.3763L20.625 3.17634V2.3C20.625 2.2318 20.6009 2.1664 20.5579 2.11817C20.5149 2.06995 20.4566 2.04286 20.3958 2.04286H1.60417C1.54339 2.04286 1.4851 2.06995 1.44212 2.11817C1.39914 2.1664 1.375 2.2318 1.375 2.3Z'
                  fill='#0C62BB'
               />
            </svg>
         ),
         title: isEmpty(data?.emails) ? (
            '-'
         ) : (
            <Space split={','} wrap>
               <label className=' text-[18px] font-medium leading-[30px] text-grey50'>
                  {translate(lang, 'Mail :', 'मेल :')}
               </label>
               {data?.emails.map((item) => (
                  <Link
                     key={item}
                     href={`mailto:${item}`}
                     className=' text-[#505050]'
                  >
                     <p className='text-[18px] font-medium leading-[30px] text-grey50'>
                        {item}
                     </p>
                  </Link>
               ))}
            </Space>
         ),
         label: translate(lang, 'Mail :', 'मेल :'),
      },
   ];

   return (
      <section className={style.contact_wrapper}>
         <div className='grid grid-cols-2 gap-x-[72px]  pt-[30px] md:grid-cols-1 sm:grid-cols-1 sm:pt-[20px]'>
            <article>
               <p className=' text-[24px] font-semibold leading-[40px] text-grey30 sm:text-[20px] sm:leading-[33px]'>
                  {translate(
                     lang,
                     'Any Queries or Feedbacks for us?',
                     'हाम्रो लागि कुनै प्रश्न वा प्रतिक्रिया?'
                  )}
               </p>
               <p className=' mb-[29px] mt-[11px] text-[18px] font-[400] leading-[30px] text-[#808080] sm:mb-[15px] sm:mt-[4px] sm:text-[16px] sm:leading-[26px]'>
                  {translate(
                     lang,
                     '  If you have any queries or feedbacks, please fill up the form below or contact us. Thank you.',
                     'यदि तपाइँसँग कुनै प्रश्न वा प्रतिक्रिया छ भने, कृपया तलको फारम भर्नुहोस् वा हामीलाई सम्पर्क गर्नुहोस्। धन्यवाद।'
                  )}
               </p>
               <ContactForm lang={lang} />
            </article>
            <article>
               <p className=' text-[24px] font-semibold leading-[40px] text-grey30'>
                  {translate(lang, ' Contact Address', 'सम्पर्क ठेगाना')}
               </p>
               <div className='mb-[16px] mt-[11px] flex flex-col gap-y-[10px]'>
                  {contactInfo.map((item) => (
                     <div key={item?.label} className={style.contact_details}>
                        <div className='flex items-start gap-x-[10px]'>
                           <span>{item?.icon}</span>

                           <div>{item?.title}</div>
                        </div>
                     </div>
                  ))}
               </div>
               <Link
                  href={'https://www.facebook.com/STIDHNepal'}
                  target='_blank'
               >
                  <svg
                     width='40'
                     height='40'
                     viewBox='0 0 40 40'
                     fill='none'

                     // xmlns='http://www.w3.org/2000/svg'
                  >
                     <rect
                        x='0.5'
                        y='0.5'
                        width='39'
                        height='39'
                        rx='19.5'
                        fill='white'
                        stroke='#E4E4E4'
                     />
                     <path
                        d='M21.6673 21.2498H23.7507L24.584 17.9165H21.6673V16.2498C21.6673 15.3915 21.6673 14.5832 23.334 14.5832H24.584V11.7832C24.3123 11.7473 23.2865 11.6665 22.2032 11.6665C19.9407 11.6665 18.334 13.0473 18.334 15.5832V17.9165H15.834V21.2498H18.334V28.3332H21.6673V21.2498Z'
                        fill='#0866FF'
                     />
                  </svg>
               </Link>

               <div id='map' className=' mt-[18px] !h-[288px]'>
                  <iframe
                     src='https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3532.7044219958884!2d85.30629499999999!3d27.695529!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39eb1851ae40bd91%3A0xbd8552665e65d95b!2sSukraraj%20Tropical%20%26%20Infectious%20Disease%20Hospital!5e0!3m2!1sen!2snp!4v1708945994021!5m2!1sen!2snp'
                     width='600'
                     height='450'
                     loading='lazy'
                  ></iframe>
               </div>
            </article>
         </div>
      </section>
   );
}
